<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS API | tombstone</title>
    <meta name="description" content="tombstone docs">
    <link rel="icon" href="/tombstone/favicon.ico">
    
    <link rel="preload" href="/tombstone/assets/css/0.styles.0ea869b6.css" as="style"><link rel="preload" href="/tombstone/assets/js/app.0bf91f49.js" as="script"><link rel="preload" href="/tombstone/assets/js/2.94ea3c73.js" as="script"><link rel="preload" href="/tombstone/assets/js/25.41148fef.js" as="script"><link rel="prefetch" href="/tombstone/assets/js/10.c8430b82.js"><link rel="prefetch" href="/tombstone/assets/js/11.70ce923e.js"><link rel="prefetch" href="/tombstone/assets/js/12.799f10f8.js"><link rel="prefetch" href="/tombstone/assets/js/13.59dea27b.js"><link rel="prefetch" href="/tombstone/assets/js/14.e2894561.js"><link rel="prefetch" href="/tombstone/assets/js/15.b3361845.js"><link rel="prefetch" href="/tombstone/assets/js/16.f12a87e1.js"><link rel="prefetch" href="/tombstone/assets/js/17.cb76376d.js"><link rel="prefetch" href="/tombstone/assets/js/18.c0ee4e0f.js"><link rel="prefetch" href="/tombstone/assets/js/19.7b1edbe4.js"><link rel="prefetch" href="/tombstone/assets/js/20.9133dfa2.js"><link rel="prefetch" href="/tombstone/assets/js/21.075b6cfe.js"><link rel="prefetch" href="/tombstone/assets/js/22.93e71a2c.js"><link rel="prefetch" href="/tombstone/assets/js/23.4435101b.js"><link rel="prefetch" href="/tombstone/assets/js/24.2488c6c6.js"><link rel="prefetch" href="/tombstone/assets/js/26.62938a6b.js"><link rel="prefetch" href="/tombstone/assets/js/27.de56081a.js"><link rel="prefetch" href="/tombstone/assets/js/28.c17c615c.js"><link rel="prefetch" href="/tombstone/assets/js/29.d7a9e410.js"><link rel="prefetch" href="/tombstone/assets/js/3.994d5515.js"><link rel="prefetch" href="/tombstone/assets/js/30.385b8f69.js"><link rel="prefetch" href="/tombstone/assets/js/31.ebb683e5.js"><link rel="prefetch" href="/tombstone/assets/js/32.1593268f.js"><link rel="prefetch" href="/tombstone/assets/js/33.13aa73aa.js"><link rel="prefetch" href="/tombstone/assets/js/34.49c57481.js"><link rel="prefetch" href="/tombstone/assets/js/35.3e46ab0f.js"><link rel="prefetch" href="/tombstone/assets/js/36.5be3d8af.js"><link rel="prefetch" href="/tombstone/assets/js/37.9a34f4fc.js"><link rel="prefetch" href="/tombstone/assets/js/38.90c7c8c2.js"><link rel="prefetch" href="/tombstone/assets/js/39.106fbb40.js"><link rel="prefetch" href="/tombstone/assets/js/4.8aa69369.js"><link rel="prefetch" href="/tombstone/assets/js/40.b6e0c507.js"><link rel="prefetch" href="/tombstone/assets/js/41.b7142d30.js"><link rel="prefetch" href="/tombstone/assets/js/42.62a4c3cf.js"><link rel="prefetch" href="/tombstone/assets/js/43.6a70fccb.js"><link rel="prefetch" href="/tombstone/assets/js/5.3e8c569c.js"><link rel="prefetch" href="/tombstone/assets/js/6.be3e8088.js"><link rel="prefetch" href="/tombstone/assets/js/7.ec138f83.js"><link rel="prefetch" href="/tombstone/assets/js/8.04a8bcd5.js"><link rel="prefetch" href="/tombstone/assets/js/9.46190c4b.js">
    <link rel="stylesheet" href="/tombstone/assets/css/0.styles.0ea869b6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/tombstone/" class="home-link router-link-active"><!----> <span class="site-name">tombstone</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/tombstone/about.html" class="nav-link">about</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/tombstone/about.html" class="nav-link">about</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/tombstone/" class="sidebar-link">Home</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/tombstone/handbook/" class="sidebar-heading clickable"><span>手册</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/tombstone/frontend/" class="sidebar-heading clickable router-link-active open"><span>前端</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tombstone/frontend/browser/howbrowserworks.html" class="sidebar-link">浏览器是怎么工作的</a></li><li><a href="/tombstone/frontend/performance/" class="sidebar-link">前端性能优化</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/tombstone/frontend/javascript/" class="sidebar-heading clickable router-link-active open"><span>JavaScript</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tombstone/frontend/javascript/howjsworks.html" class="sidebar-link">JS 是怎么工作的</a></li><li><a href="/tombstone/frontend/javascript/crossorigin.html" class="sidebar-link">浏览器同源策略与 ajax 跨域方法</a></li><li><a href="/tombstone/frontend/javascript/jsapi.html" class="active sidebar-link">JS API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tombstone/frontend/javascript/jsapi.html#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header"><a href="/tombstone/frontend/javascript/jsapi.html#js-api-2" class="sidebar-link">JS API</a></li><li class="sidebar-sub-header"><a href="/tombstone/frontend/javascript/jsapi.html#proxy" class="sidebar-link">Proxy</a></li><li class="sidebar-sub-header"><a href="/tombstone/frontend/javascript/jsapi.html#柯里化" class="sidebar-link">柯里化</a></li><li class="sidebar-sub-header"><a href="/tombstone/frontend/javascript/jsapi.html#模块（module）" class="sidebar-link">模块（Module）</a></li></ul></li><li><a href="/tombstone/frontend/javascript/dom.html" class="sidebar-link">DOM</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/tombstone/frontend/css/" class="sidebar-heading clickable"><span>CSS</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tombstone/frontend/css/selector.html" class="sidebar-link">选择器、优先级、继承和级联</a></li><li><a href="/tombstone/frontend/css/properties.html" class="sidebar-link">常用 CSS 属性</a></li><li><a href="/tombstone/frontend/css/box.html" class="sidebar-link">盒模型与外边距重叠</a></li><li><a href="/tombstone/frontend/css/csslayout.html" class="sidebar-link">CSS 布局</a></li><li><a href="/tombstone/frontend/css/containingblock.html" class="sidebar-link">包含块</a></li><li><a href="/tombstone/frontend/css/stackingcontext.html" class="sidebar-link">层叠上下文</a></li><li><a href="/tombstone/frontend/css/bfc.html" class="sidebar-link">Block Formatting Context</a></li><li><a href="/tombstone/frontend/css/cssom.html" class="sidebar-link">CSSOM</a></li></ul></section></li><li><a href="/tombstone/frontend/security/" class="sidebar-link">前端安全问题</a></li><li><a href="/tombstone/frontend/typescript/" class="sidebar-link">TypeScript</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/tombstone/frontend/library/" class="sidebar-heading clickable"><span>前端框架</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tombstone/frontend/library/react.html" class="sidebar-link">React</a></li><li><a href="/tombstone/frontend/library/redux.html" class="sidebar-link">Redux</a></li><li><a href="/tombstone/frontend/library/reactimvc.html" class="sidebar-link">React-IMVC</a></li><li><a href="/tombstone/frontend/library/immer.html" class="sidebar-link">Immer</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/tombstone/frontend/tools/" class="sidebar-heading clickable"><span>工程化与工具</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tombstone/frontend/tools/babel.html" class="sidebar-link">Babel</a></li><li><a href="/tombstone/frontend/tools/webpack.html" class="sidebar-link">Webpack</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/tombstone/server/" class="sidebar-heading clickable"><span>服务端</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/tombstone/blog/" class="sidebar-link">文章</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js-api"><a href="#js-api" aria-hidden="true" class="header-anchor">#</a> JS API</h1> <h2 id="数据类型"><a href="#数据类型" aria-hidden="true" class="header-anchor">#</a> 数据类型</h2> <ul><li>7 中原始类型： number、 bigint、 string、 boolean、 null、 undefined、 symbol</li> <li>Object</li></ul> <p>为了在原始类型上访问方法和属性，创建了提供额外功能的特殊“对象包装器”，使用后即被销毁。“对象包装器”对于每种原始类型都是不同的，它们被称为 String、Number、Boolean 和 Symbol。因此，它们提供了不同的方法。</p> <ul><li>构造器 String/Number/Boolean 不推荐通过 new 方式创建包装对象来使用
<ul><li><code>typeof new Number(0) // object</code></li></ul></li> <li>null/undefined 没有任何方法</li></ul> <h3 id="number"><a href="#number" aria-hidden="true" class="header-anchor">#</a> number</h3> <p>包括整数、浮点数、特殊数值（<code>Infinity</code>、<code>-Infinity</code>、<code>NaN</code>）</p> <ul><li><code>Infinity</code> 表示无穷大，比任何一个数值都大<div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span> <span class="token operator">===</span> <span class="token number">Infinity</span> <span class="token comment">// true</span>
<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">Infinity</span> <span class="token comment">// true</span>
</code></pre></div></li> <li><code>NaN</code> 代表一个计算错误<div class="language-js extra-class"><pre class="language-js"><code><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">'1a'</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div></li> <li><em>在 JavaScript 中做数学运算是安全的。我们可以做任何事：除以 0，将非数字字符串视为数字，等等。脚本永远不会因为一个致命的错误（“死亡”）而停止。最坏的情况下，我们会得到 NaN 的结果。</em></li> <li>简写</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1.23e6</span> <span class="token comment">// 1.23 * 1000000</span>
<span class="token number">1e-6</span> <span class="token comment">// 0.000001</span>
</code></pre></div><ul><li>十六进制，二进制和八进制数字</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">0xff</span> <span class="token comment">// 255</span>
<span class="token number">0b11111111</span> <span class="token comment">// 255</span>
<span class="token number">0o377</span> <span class="token comment">// 255</span>
</code></pre></div><ul><li>num.toString(base)， base 范围为 2 到 36， 表示进制。</li></ul> <h3 id="bigint"><a href="#bigint" aria-hidden="true" class="header-anchor">#</a> bigint</h3> <p>在 JavaScript 中，Number 类型无法表示大于 (253-1)（即 9007199254740991），或小于 -(253-1) 的整数。这是其内部表示形式导致的技术限制。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 尾部的 &quot;n&quot; 表示这是一个 BigInt 类型</span>
<span class="token keyword">const</span> bigint <span class="token operator">=</span> <span class="token number">1234567890123456789012345678901234567890n</span><span class="token punctuation">;</span>
<span class="token comment">// 或者</span>
<span class="token keyword">const</span> sameBigint <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">'1234567890123456789012345678901234567890'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="typeof"><a href="#typeof" aria-hidden="true" class="header-anchor">#</a> typeof</h3> <p>两种使用方式</p> <ul><li>作为运算符：typeof x。</li> <li>函数形式：typeof(x)。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">typeof</span> <span class="token keyword">undefined</span> <span class="token comment">// &quot;undefined&quot;</span>
<span class="token keyword">typeof</span> <span class="token number">0</span> <span class="token comment">// &quot;number&quot;</span>
<span class="token keyword">typeof</span> <span class="token number">10n</span> <span class="token comment">// &quot;bigint&quot;</span>
<span class="token keyword">typeof</span> <span class="token boolean">true</span> <span class="token comment">// &quot;boolean&quot;</span>
<span class="token keyword">typeof</span> <span class="token string">&quot;foo&quot;</span> <span class="token comment">// &quot;string&quot;</span>
<span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token comment">// &quot;symbol&quot;</span>
<span class="token keyword">typeof</span> Math <span class="token comment">// &quot;object&quot;</span>
<span class="token keyword">typeof</span> <span class="token keyword">null</span> <span class="token comment">// &quot;object&quot;</span>
<span class="token keyword">typeof</span> alert <span class="token comment">// &quot;function&quot;</span>
</code></pre></div><h2 id="js-api-2"><a href="#js-api-2" aria-hidden="true" class="header-anchor">#</a> JS API</h2> <h3 id="string"><a href="#string" aria-hidden="true" class="header-anchor">#</a> String</h3> <ul><li>lengh</li> <li>toUpperCase()</li> <li>toLowerCase()</li> <li>charAt(index)
<ul><li>index: 0 ~ length - 1</li> <li>返回指定位置的字符</li></ul></li> <li>indexOf(searchValue, fromIndex)
<ul><li>searchValue: 查找的子串</li> <li>fromIndex: 可选，开始查找的位置，默认 0</li> <li>返回指定值第一次出现的索引，没查到则返回 -1</li></ul></li> <li>lastIndexOf(searchValue, fromIndex)
<ul><li>从 fromIndex 往左查找</li> <li>fromIndex 可选，默认值是 +Infinity</li></ul></li> <li>split(separator, limit)
<ul><li>separator: 分隔符，为字符串或正则</li> <li>limit: 限定返回的分割段数量</li> <li>返回分割的数组</li></ul></li> <li>substring(indexStart, indexEnd)
<ul><li>indexEnd: 省略则提取到最后</li></ul></li> <li>substr(start, length)
<ul><li>start: 可为负数， -2 即从倒数第二个开始</li> <li>length: 提取的数量，省略则提取到末尾</li></ul></li> <li>trim()</li> <li>trimLeft()</li> <li>trimRight()</li> <li>concat(str1, str2, ...)</li> <li>includes(searchString, position)
<ul><li>position: 可选，默认从 0 开始</li></ul></li> <li>padStart(targetLength, padString)</li> <li>padEnd(targetLength, padString)</li></ul> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'abc'</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// &quot;       abc&quot;</span>
<span class="token string">'abc'</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;foofoofabc&quot;</span>
<span class="token string">'abc'</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">&quot;123465&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;123abc&quot;</span>
<span class="token string">'abc'</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// &quot;00000abc&quot;</span>
<span class="token string">'abc'</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// &quot;abc&quot;</span>
</code></pre></div><h3 id="array"><a href="#array" aria-hidden="true" class="header-anchor">#</a> Array</h3> <h4 id="会改变自身的方法"><a href="#会改变自身的方法" aria-hidden="true" class="header-anchor">#</a> 会改变自身的方法</h4> <ul><li>push(e1, e2, ...)   <em>返回数组新长度</em></li> <li>pop()    <em>返回删除的元素</em></li> <li>shift()   <em>删除第一个元素，返回这个元素</em></li> <li>unshift(e1, e2, ...)   <em>返回数组新长度</em></li> <li>reverse()</li> <li>sort(compareFunction)
<ul><li>compareFunction 可选， 默认排序顺序是在将元素转换为字符串，然后比较它们的UTF-16代码单元值序列时构建的</li></ul></li> <li>splice(start, deleteCount, item1, item2, ...)
<ul><li>从 start 位置开始删掉 deleteCount 个元素， 并插入 item1, item2,...</li> <li>只删除的话 item1 及之后不传， 只插入的话 deleteCount 传 0</li> <li>返回被删除的元素组成的数组</li></ul></li> <li>fill(value, start, end)
<ul><li>start 可选，默认 0</li> <li>end 可选，默认 this.length</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// sort 示例</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">100000</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 100000, 21, 30, 4]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">100000</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 4, 21, 30, 100000]</span>
</code></pre></div><h4 id="不改变自身的方法"><a href="#不改变自身的方法" aria-hidden="true" class="header-anchor">#</a> 不改变自身的方法</h4> <ul><li>indexOf(searchElement, fromIndex)
<ul><li>fromIndex 可选，默认 0</li> <li>返回首个被找到的元素在数组中的索引位置; 若没有找到则返回 -1</li></ul></li> <li>lastIndexOf()
<ul><li>从 fromIndex 往左找</li></ul></li> <li>concat(v1, v2, ...)   <em>将数组或值连接成新数组</em></li> <li>join(separator)   <em>separator 缺省则为 <code>,</code></em></li> <li>slice(begin, end)</li> <li>toString()</li></ul> <h4 id="遍历方法"><a href="#遍历方法" aria-hidden="true" class="header-anchor">#</a> 遍历方法</h4> <ul><li>forEach(callback, thisArg)   <em>遍历， 返回 undefined</em> <ul><li>callback(currentValue, index, array)</li></ul></li> <li>some()   <em>如果数组中至少有一个元素满足测试函数，则返回 true，否则返回 false</em></li> <li>every()   <em>如果数组中的每个元素都满足测试函数，则返回 true，否则返回 false</em></li> <li>map()   <em>返回一个由回调函数的返回值组成的新数组</em></li> <li>filter()   <em>将所有在过滤函数中返回 true 的数组元素放进一个新数组中并返回</em></li> <li>reduce(callback, initialValue)
<ul><li>callback(accumulator, currentValue, index, array)</li> <li>从左到右为每个数组元素执行一次回调函数，并把上次回调函数的返回值放在一个暂存器中传给下次回调函数，并返回最后一次回调函数的返回值。</li></ul></li> <li>reduceRight()</li> <li>find(callback(element, index, array), thisArg)   <em>返回数组中第一个满足所提供测试函数的元素的值，否则返回 undefined</em></li> <li>findIndex(callback, thisArg)  <em>返回数组中满足提供的测试函数的第一个元素的索引。否则返回-1</em></li></ul> <h3 id="regexp"><a href="#regexp" aria-hidden="true" class="header-anchor">#</a> RegExp</h3> <p><a href="https://shenxinle.github.io/jekyll/update/2015/03/11/RegExp-in-JavaScript" target="_blank" rel="noopener noreferrer">RegExp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="math"><a href="#math" aria-hidden="true" class="header-anchor">#</a> Math</h3> <h2 id="proxy"><a href="#proxy" aria-hidden="true" class="header-anchor">#</a> Proxy</h2> <p>语法： <code>let proxy = new Proxy(target, handler)</code></p> <ul><li><code>target</code>  要使用 Proxy 包装的目标对象（可以是任何类型的对象，包括原生数组，函数，甚至另一个代理）。</li> <li><code>handler</code>  一个通常以函数作为属性的对象，各属性中的函数分别定义了在执行各种操作时代理的行为。</li></ul> <p>可以拦截的方法列表</p> <table><thead><tr><th>内部方法</th> <th>Handler 方法</th> <th>何时触发</th></tr></thead> <tbody><tr><td><code>[[Get]]</code></td> <td><code>get</code></td> <td>读取属性</td></tr> <tr><td><code>[[Set]]</code></td> <td><code>set</code></td> <td>写入属性</td></tr> <tr><td><code>[[HasProperty]]</code></td> <td><code>has</code></td> <td><code>in</code> 操作符</td></tr> <tr><td><code>[[Delete]]</code></td> <td><code>deleteProperty</code></td> <td><code>delete</code> 操作符</td></tr> <tr><td><code>[[Call]]</code></td> <td><code>apply</code></td> <td>函数调用</td></tr> <tr><td><code>[[Construct]]</code></td> <td><code>construct</code></td> <td><code>new</code> 操作符</td></tr> <tr><td><code>[[GetPrototypeOf]]</code></td> <td><code>getPrototypeOf</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf">Object.getPrototypeOf</a></td></tr> <tr><td><code>[[SetPrototypeOf]]</code></td> <td><code>setPrototypeOf</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf">Object.setPrototypeOf</a></td></tr> <tr><td><code>[[IsExtensible]]</code></td> <td><code>isExtensible</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible">Object.isExtensible</a></td></tr> <tr><td><code>[[PreventExtensions]]</code></td> <td><code>preventExtensions</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions">Object.preventExtensions</a></td></tr> <tr><td><code>[[DefineOwnProperty]]</code></td> <td><code>defineProperty</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">Object.defineProperty</a>,
        <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties">Object.defineProperties</a></td></tr> <tr><td><code>[[GetOwnProperty]]</code></td> <td><code>getOwnPropertyDescriptor</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor">Object.getOwnPropertyDescriptor</a>,
        <code>for..in</code>,
        <code><a href="http://Object.keys/values/entries" rel="nofollow" class="vglnk"><span>Object</span><span>.</span><span>keys</span><span>/</span><span>values</span><span>/</span><span>entries</span></a></code></td></tr> <tr><td><code>[[OwnPropertyKeys]]</code></td> <td><code>ownKeys</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames">Object.getOwnPropertyNames</a>,
        <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols">Object.getOwnPropertySymbols</a>,
        <code>for..in</code>, <code>Object/keys/values/entries</code></td></tr></tbody></table> <h3 id="get-target-property-receiver"><a href="#get-target-property-receiver" aria-hidden="true" class="header-anchor">#</a> <code>get(target, property, receiver)</code></h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 获取不存在的数组项时返回 0</span>
<span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> numbersProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">index 1: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>numbersProxy<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">index 5: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>numbersProxy<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><h3 id="set-target-property-value-receiver"><a href="#set-target-property-value-receiver" aria-hidden="true" class="header-anchor">#</a> <code>set(target, property, value, receiver)</code></h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 只允许添加数字的数组</span>
<span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> numbersProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">---, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'only accept number'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

numbersProxy<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// set 触发两次，设置 index 0 和 length</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>
numbersProxy<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// set 触发三次</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>
numbersProxy<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError</span>
</code></pre></div><h2 id="柯里化"><a href="#柯里化" aria-hidden="true" class="header-anchor">#</a> 柯里化</h2> <p>柯里化是一种函数的转换，它是指将一个函数从可调用的 f(a, b, c) 转换为可调用的 f(a)(b)(c)。
柯里化不会调用函数，它只是对函数进行转换。</p> <p>柯里化让我们能够更容易地获取偏函数（partially applied function）。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 一种柯里化实现</span>
<span class="token comment">// 只支持确定参数长度的函数， 对 f(...args) 无效</span>
<span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">curried</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> func<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">curried</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>args2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> curriedSum <span class="token operator">=</span> <span class="token function">curry</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">curriedSum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6，仍然可以被正常调用</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">curriedSum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6，对第一个参数的柯里化</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">curriedSum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6，全柯里化</span>
</code></pre></div><h2 id="模块（module）"><a href="#模块（module）" aria-hidden="true" class="header-anchor">#</a> 模块（Module）</h2> <h3 id="历史的模快"><a href="#历史的模快" aria-hidden="true" class="header-anchor">#</a> 历史的模快</h3> <ul><li>AMD —— 最古老的模块系统之一，最初由 require.js 库实现。</li> <li>CommonJS —— 为 Node.js 服务器创建的模块系统。</li> <li>UMD —— 另外一个模块系统，建议作为通用的模块系统，它与 AMD 和 CommonJS 都兼容。</li></ul> <h3 id="模块基本概念和功能"><a href="#模块基本概念和功能" aria-hidden="true" class="header-anchor">#</a> 模块基本概念和功能</h3> <p>一个模块（module）就是一个文件。</p> <p>模块可以相互加载，并可以使用特殊的指令 export 和 import 来交换功能。</p> <p>由于模块支持特殊的关键字和功能，因此我们必须通过使用 <code>&lt;script type=&quot;module&quot;&gt;</code> 特性（attribute）来告诉浏览器，
此脚本应该被当作模块（module）来对待。</p> <p>特性：</p> <ul><li>模块始终默认使用 use strict</li> <li>模块级作用域</li> <li>模块代码仅在第一次导入时被解析</li> <li><code>import.meta</code> 对象包含关于当前模块的信息
<ul><li>import.meta.url 是当前模块文件的 url</li></ul></li></ul> <h4 id="浏览器内特定功能"><a href="#浏览器内特定功能" aria-hidden="true" class="header-anchor">#</a> 浏览器内特定功能</h4> <p>与常规脚本相比，拥有 type=&quot;module&quot; 标识的脚本有一些特定于浏览器的差异。</p> <ul><li><p>模块脚本是延迟的，与 defer 特性对外部脚本和内联脚本（inline script）的影响相同。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;module&quot;</span><span class="token operator">&gt;</span>
  <span class="token comment">// 后输出 object</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> button<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// 先输出 undefined</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> button<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;hehe&quot;</span><span class="token operator">&gt;</span>hehe<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>Async 适用于内联脚本（inline script）</p> <p>对于非模块脚本，async 特性（attribute）仅适用于外部脚本。异步脚本会在准备好后立即运行，独立于其他脚本或 HTML 文档。</p> <p>对于模块脚本，它也适用于内联脚本。用于不依赖任何其他东西的功能，比如埋点统计。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 所有依赖都获取完成（analytics<span class="token punctuation">.</span>js）然后脚本开始运行 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 不会等待 <span class="token constant">HTML</span> 文档或者其他 <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span> 标签 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script <span class="token keyword">async</span> type<span class="token operator">=</span><span class="token string">&quot;module&quot;</span><span class="token operator">&gt;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>counter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./analytics.js'</span><span class="token punctuation">;</span>

  counter<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>外部脚本</p> <p>具有 type=&quot;module&quot; 的外部脚本（external script）在两个方面有所不同：</p> <ol><li>具有相同 src 的外部脚本仅运行一次（非 module 是会运行多次的）</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 脚本 my<span class="token punctuation">.</span>js 被加载完成（fetched）并只被运行一次 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;module&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;my.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;module&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;my.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><ol start="2"><li>从另一源获取外部脚本需要 CORS header（Access-Control-Allow-Origin）</li></ol></li> <li><p>兼容性，“nomodule”</p> <p>旧时的浏览器不理解 type=&quot;module&quot;。未知类型的脚本会被忽略。对此，我们可以使用 nomodule 特性来提供一个后备：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;module&quot;</span><span class="token operator">&gt;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Runs in modern browsers&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script nomodule<span class="token operator">&gt;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Modern browsers know both type=module and nomodule, so skip this&quot;</span><span class="token punctuation">)</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Old browsers ignore script with unknown type=module, but execute this.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></li></ul> <h3 id="导入和导出"><a href="#导入和导出" aria-hidden="true" class="header-anchor">#</a> 导入和导出</h3> <p>导出</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在声明前导出</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'hehe'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 导出与声明分开</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'hehe'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> sayHi <span class="token punctuation">}</span>
<span class="token comment">// 可以用 as 重命名</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> name <span class="token keyword">as</span> modName<span class="token punctuation">,</span> sayHi <span class="token keyword">as</span> sayHiHi <span class="token punctuation">}</span>
</code></pre></div><p>导入</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 导入</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> sayHi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./modulexx.js'</span><span class="token punctuation">;</span>
<span class="token comment">// 或</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> modulexx <span class="token keyword">from</span> <span class="token string">'./modulexx.js'</span><span class="token punctuation">;</span> <span class="token comment">// 不建议（无法 tree-shaking）</span>
<span class="token comment">// as</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> name <span class="token keyword">as</span> modName<span class="token punctuation">,</span> sayHi <span class="token keyword">as</span> sayHiHi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./modulexx.js'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'xxx.js'</span><span class="token punctuation">;</span> <span class="token comment">// 不需要赋值给变量时</span>
</code></pre></div><p>export default</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// say.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>

<span class="token comment">// index.js</span>
<span class="token keyword">import</span> sayHi <span class="token keyword">from</span> <span class="token string">'./say.js'</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// say.js</span>
<span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span>sayHi <span class="token keyword">as</span> <span class="token keyword">default</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> sayHi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./say.js'</span><span class="token punctuation">;</span>
</code></pre></div><p>重新导出</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token punctuation">{</span> sayHi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./say.js'</span><span class="token punctuation">;</span> <span class="token comment">// 重新导出 sayHi</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> User <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./user.js'</span><span class="token punctuation">;</span> <span class="token comment">// 重新导出 default</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">'./user.js'</span><span class="token punctuation">;</span> <span class="token comment">// 重新导出命名的导出</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./user.js'</span><span class="token punctuation">;</span> <span class="token comment">// 重新导出默认的导出</span>
</code></pre></div><h3 id="动态导入"><a href="#动态导入" aria-hidden="true" class="header-anchor">#</a> 动态导入</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;module&quot;</span><span class="token operator">&gt;</span>
  <span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> module1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./module1.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>module1<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    module1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'niuniu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tombstone/frontend/javascript/crossorigin.html" class="prev">浏览器同源策略与 ajax 跨域方法</a></span> <span class="next"><a href="/tombstone/frontend/javascript/dom.html">DOM</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/tombstone/assets/js/app.0bf91f49.js" defer></script><script src="/tombstone/assets/js/2.94ea3c73.js" defer></script><script src="/tombstone/assets/js/25.41148fef.js" defer></script>
  </body>
</html>
